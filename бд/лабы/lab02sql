--task1
create tablespace ts_xxx   
datafile 'ts_xxt.dbf'
size 7m
autoextend on next 5m
maxsize 20m;

drop tablespace ts_xxx including contents and datafiles;


--task2
create temporary tablespace ts_xxx_temp
tempfile 'ts_xxx_temp1.dbf'
size 5m
autoextend on next 3m
maxsize 30m;

drop tablespace ts_xxx_temp including contents and datafiles;


--task3
select tablespace_name, status, contents, logging 
from SYS.DBA_TABLESPACES;

--task4
alter session set "_ORACLE_SCRIPT" = true;
create role RL_XXXCORE;
grant create session to rl_xxxcore;
grant create table, drop any table to rl_xxxcore;
grant create view, drop any view to rl_xxxcore;
grant create procedure, drop any procedure to rl_xxxcore;

drop ROLE RL_XXXCORE;

--task 5
select *
from dba_roles where role = 'RL_XXXCORE';

select role, privilege, admin_option from role_sys_privs where role = 'RL_XXXCORE';

--task6
create profile pf_xxxcore limit
password_life_time 180
sessions_per_user 3
failed_login_attempts 7
password_lock_time 1
password_reuse_time 10
password_grace_time default
connect_time 180
idle_time 30;

drop profile pf_xxxcore cascade;

select distinct profile
from dba_profiles
order by profile;


--task8

create user xxxcore
identified by 1234
default tablespace ts_xxx
temporary tablespace ts_xxx_temp
profile PF_XXXCORE
account unlock
password expire;
grant RL_XXXCORE to XXXCORE;
grant create user to XXXCORE;
grant create tablespace to XXXCORE;
grant alter tablespace to XXXCORE;
grant drop tablespace to XXXCORE;

select grantee, privilege, admin_option
from dba_sys_privs
where grantee = 'XXXCORE';

drop user XXXCORE cascade;

--task10 

create table students (
    student_id number primary key
);

drop table students;

create view adult_students as
select * from students;

drop view adult_students;

--task 11
create tablespace xxx_qdata
datafile 'xxx_qdataa.dbf'
size 10m
offline;

drop tablespace xxx_qdata including contents and datafiles;

alter tablespace xxx_qdata online;

alter user XXXCORE quota 2m on xxx_qdata;

create table t1 (
    id number,
    name varchar2(50)
) tablespace xxx_qdata;

select * from t1;
insert into t1 (id, name) values (1, 'Bipki');
insert into t1 (id, name) values (2, 'Bob');
insert into t1 (id, name) values (3, 'Pryaniki');

drop table t1;

commit;

